kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(variable)
name = names(res[[1]])
vessel_info <- res[[1]][sapply(res[[1]], function(x) dim(x)[1]) > 0]
new_list <- purrr::imap(vessel_info, ~cbind(.x, variable = .y))
df_all <- purrr::map_dfr(new_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
print(new_list)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = "names", booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(variable)
df_all
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = "names", booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows("variable")
(dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = "names", booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major"))
df_all <- df_all %>%
select(variable, value, type, order, name, start_date, end_date)
df_all <- df_all %>%
dplyr::select(variable, value, type, order, name, start_date, end_date)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = "names", booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major")
View(res)
name = names(res[[2]])
vessel_info <- res[[2]][sapply(res[[2]], function(x) dim(x)[1]) > 0]
new_list <- purrr::imap(vessel_info, ~cbind(.x, variable = .y))
df_all <- purrr::map_dfr(new_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
df_all <- df_all %>%
dplyr::select(variable, value, type, order, name, start_date, end_date)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = "names", booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major")
name = names(res)[2]
vessel_info <- res[[2]][sapply(res[[2]], function(x) dim(x)[1]) > 0]
new_list <- purrr::imap(vessel_info, ~cbind(.x, variable = .y))
df_all <- purrr::map_dfr(new_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
df_all <- df_all %>%
dplyr::select(variable, value, type, order, name, start_date, end_date)
return(dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major")
)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major")
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
replace(df_all, is.na(df_all), "")
df_all <- replace(df_all, is.na(df_all), "")
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1, row_group_label_position = 'stack')
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover")) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1, row_group_label_position = 'stack')
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover")) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_classic(full_width = F) %>%
kableExtra::kable_styling(bootstrap_options = c("striped")) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("striped")) %>%
kableExtra::row_spec(1, bold = T, color = "white", background = "grey") %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("striped")) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
dplyr::bind_rows(df_all) %>%
kableExtra::kbl(caption = name, booktabs = TRUE) %>%
# kableExtra::kable_styling(bootstrap_options = c("striped")) %>%
kableExtra::collapse_rows(valign = "top",
latex_hline = "major", columns = 1)
df_all %>%
kbl(caption = "LTU000000005", booktabs = TRUE) %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kbl(caption = "LTU000000005", booktabs = TRUE) %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
kableExtra::collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kableExtra::kbl(caption = "LTU000000005", booktabs = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
kableExtra::collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
kableExtra::collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = T) %>%
kableExtra::collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "top", latex_hline = "major")
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'stack')
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity')
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "linespace", row_group_label_position = 'identity', headers_to_remove = 1)
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("hover", "condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c"condensed", "responsive"), full_width = F) %>%
df_all %>%
kableExtra::kbl(caption = "LTU000000005") %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
df_all %>%
kableExtra::kbl(caption = paste('CFR:', name)) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
df <- df_all %>%
mutate(start = as.Date(start_date), end = as.Date(end_date))
df <- df_all %>%
dplyr::mutate(start = as.Date(start_date), end = as.Date(end_date))
df_tidy <- df %>%
gather(key=date_type, value=date, -variable)
df_tidy <- df %>%
dplyr::gather(key=date_type, value=date, -variable)
df_tidy <- df %>%
tidyr::gather(key=date_type, value=date, -variable)
ggplot() +
geom_line(data=df_tidy, mapping=aes(x=variable, y=date), size=10) +
coord_flip()
ggplot2::ggplot() +
geom_line(data=df_tidy, mapping=aes(x=variable, y=date), size=10) +
coord_flip()
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, mapping=aes(x=variable, y=date), size=10) +
ggplot2::coord_flip()
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, aes(x=variable, y=date), size=10) +
ggplot2::coord_flip()
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, ggplot2::aes(x=variable, y=date), size=10) +
ggplot2::coord_flip()
View(df_tidy)
View(df_tidy)
View(df_all)
View(df)
df_tidy <- df %>%
dplyr::select(start, end, variable) %>%
tidyr::gather(key=date_type, value=date, -variable)
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, ggplot2::aes(x=variable, y=date), size=10) +
ggplot2::coord_flip()
df_tidy <- df %>%
dplyr::select(start, end, variable, value) %>%
tidyr::gather(key=date_type, value=date, -variable, -value)
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, ggplot2::aes(x=variable, y=date), size=10, color=value) +
ggplot2::coord_flip()
ggplot2::ggplot() +
ggplot2::geom_line(data=df_tidy, ggplot2::aes(x=variable, y=date, color=value), size=10) +
ggplot2::coord_flip()
vistime::gg_vistime(df, col.event = "value", col.group = "variable", title = "Presidents of the USA")
df_all %>%
kableExtra::kbl(caption = paste('CFR:', name)) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1)
print(df_all %>%
kableExtra::kbl(caption = paste('CFR:', name)) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
vessel_info <- get_vessel(id, type)
cfr = names(vessel_info)
vessel_info
res <- get_vessel(id = 277213000, type = 'mmsi' )
vessel_info <- res
cfr = names(vessel_info)
index = 1
for (info_list in vessel_info) {
info_list <- info_list[sapply(info_list, function(x) dim(x)[1]) > 0]
cfr_info_list <- purrr::imap(info_list, ~cbind(.x, variable = .y))
cfr_info <- purrr::map_dfr(cfr_info_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
cfr_info <- cfr_info %>%
dplyr::select(variable, value, type, order, name, start_date, end_date)
cfr_info <- replace(cfr_info, is.na(cfr_info), "")
cfr_info <- replace(cfr_info, '2100-12-31', "")
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
}
cfr_info
is.na(cfr_info)
cfr_info == '2100-12-31'
vessel_info <- res
cfr = names(vessel_info)
index = 1
for (info_list in vessel_info) {
info_list <- info_list[sapply(info_list, function(x) dim(x)[1]) > 0]
cfr_info_list <- purrr::imap(info_list, ~cbind(.x, variable = .y))
cfr_info <- purrr::map_dfr(cfr_info_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
cfr_info <- cfr_info %>%
dplyr::select(variable, value, type, order, name, start_date, end_date)
cfr_info <- replace(cfr_info, is.na(cfr_info), "")
cfr_info <- replace(cfr_info, cfr_info == '2100-12-31', "")
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
}
cfr_info
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE, border_right = TRUE,  background = "lightgrey") %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE, border_right = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
library(bloomr.fleetregister)
get_table_vessel()
library(bloomr.fleetregister)
get_table_vessel()
res <- get_vessel(id = 277213000, type = 'mmsi' )
library(bloomr.fleetregister)
res <- get_vessel(id = 277213000, type = 'mmsi' )
library(bloomr.fleetregister)
library(bloomr.fleetregister)
res <- get_vessel(id = 277213000, type = 'mmsi' )
get_table_vessel()
get_table_vessel(id = 277213000, type = 'mmsi')
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
library(bloomr.fleetregister)
library(bloomr.fleetregister)
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows(x, "Identity", 1, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 1, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F) %>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 1, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)) #%>%
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 1, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 0, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 2, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::pack_rows("Identity", 1, 8) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1, valign = "middle", latex_hline = "major", row_group_label_position = 'identity', headers_to_remove = 1))
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1,
valign = "middle",
latex_hline = "major",
row_group_label_position = 'identity',
headers_to_remove = 1) %>%
kableExtra::pack_rows("Identity", 1, 8)
)
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1,
valign = "middle",
latex_hline = "major") %>%
kableExtra::pack_rows("Identity", 1, 8)
)
print(cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)%>%
kableExtra::collapse_rows(columns = 1,
valign = "middle",
latex_hline = "major")
)
df_repartition <- dplyr::tibble()
df_repartition$names <-  names(info_list)
df_repartition$names <- names(info_list)
names(info_list)
df_repartition$names <- names(info_list)
df_repartition <- dplyr::tibble(names = names(info_list))
df_repartition
df_repartition <- dplyr::tibble(names = names(info_list), i_start = NA, i_end = NA)
index = 1
df_repartition <- dplyr::tibble(names = names(info_list), i_start = NA, i_end = NA)
j = 1
index = 1
for (el in info_list) {
df_repartition$i_start[j] <- index
df_repartition$i_end[j] <- nrows(el)
index = index + nrows(el)
j = j +1
}
j = 1
index = 1
for (el in info_list) {
df_repartition$i_start[j] <- index
df_repartition$i_end[j] <- nrow(el)
index = index + nrows(el)
j = j +1
}
j = 1
index = 1
for (el in info_list) {
df_repartition$i_start[j] <- index
df_repartition$i_end[j] <- nrow(el)
index = index + nrow(el)
j = j +1
}
df_repartition
df_repartition <- dplyr::tibble(names = names(info_list), i_start = NA, i_end = NA)
j = 1
index = 1
for (el in info_list) {
df_repartition$i_start[j] <- index
df_repartition$i_end[j] <- index + nrow(el) - 1
index = index + nrow(el)
j = j +1
}
df_repartition
t <- cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)
t
for (row in df_repartition) {
print(row)
}
for(i in 1:nrow(df_repartition)) {
row <- df_repartition[i,]
# do stuff with row
}
t <- cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)
for(i in 1:nrow(df_repartition)) {
row <- df_repartition[i,]
t <- t %>%
kableExtra::pack_rows(row$names, row$i_start, row$i_end)
# do stuff with row
}
t
cfr_info <- purrr::map_dfr(cfr_info_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
cfr_info_list <- purrr::imap(info_list, ~cbind(.x, variable = .y))
cfr_info <- purrr::map_dfr(cfr_info_list, ~.x %>% dplyr::mutate(across(everything(), as.character)))
cfr_info <- cfr_info %>%
dplyr::select(value, type, order, name, start_date, end_date)
cfr_info <- replace(cfr_info, is.na(cfr_info), "")
cfr_info <- replace(cfr_info, cfr_info == '2100-12-31', "-")
t <- cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::column_spec(1, bold = TRUE) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)
for(i in 1:nrow(df_repartition)) {
row <- df_repartition[i,]
t <- t %>%
kableExtra::pack_rows(row$names, row$i_start, row$i_end)
# do stuff with row
}
print(t)
t <- cfr_info %>%
kableExtra::kbl(caption = paste('CFR:', cfr[index])) %>%
kableExtra::kable_styling(bootstrap_options = c("condensed", "responsive"), full_width = F)
for(i in 1:nrow(df_repartition)) {
row <- df_repartition[i,]
t <- t %>%
kableExtra::pack_rows(row$names, row$i_start, row$i_end)
# do stuff with row
}
print(t)
print(t %>% kableExtra::pack_rows("Test", 1, 3)
)
print(t %>% kableExtra::pack_rows("Test", 1, 10)
)
print(t)
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
replace(names(info_list), 1, 0)
replace(names(info_list), names(info_list) == 'TEST', 0)
replace(names(info_list), names(info_list) == 'mmsi', 0)
replace(names(info_list), names(info_list) == 'mmsi', 'MMSI')
names_var <- replace(names(info_list), names(info_list) == 'mmsi', 'MMSI')
names_var <- names(info_list)
names_var <- gsub('_', ' ', names_var)
names_var
names_var <- stringr::str_to_sentence(names_var)
names_var
names_var <- replace(names_var, names_var == "Mmsi", str_to_upper(names_var))
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
vessel_info <- res
cfr = names(vessel_info)
cfr
get_table_vessel(id = 277213000, type = 'mmsi')
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
res <- get_vessel(id = 277213000, type = 'mmsi')
View(res)
View(res[["LTU000000004"]][["dimensions"]])
library(bloomr.fleetregister)
get_table_vessel(id = 277213000, type = 'mmsi')
get_table_vessel(id = 277213000, type = 'mmsi')
events <- get_events(country_iso3 = 'FRA', start_date = '2024-01-01')
